---
lab:
  title: 實驗室 2：如何建置模型導向應用程式
  module: 'Module 3: Get started with Power Apps'
ms.openlocfilehash: 94c418ce7aaf35f5b31ff2c7bc42d57e8d13c5b4
ms.sourcegitcommit: fc79a9b68a8235b37fd90ef84ba8ae1aa2e581f5
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/30/2022
ms.locfileid: "144424666"
---
# <a name="module-3-get-started-with-power-apps"></a>模組 3：開始使用 Power Apps
## <a name="lab-2-how-to-build-a-model-driven-app"></a>實驗室 2：如何建置模型導向應用程式

# <a name="scenario"></a>案例

Bellows College 是一個教育組織，校園內有多棟大樓。 校園訪客目前記錄在紙本日誌中。 此資訊並未以一致的方式擷取，而且也無法收集和分析整個校園造訪情形的相關資料。

校園行政單位想要更新其訪客登記系統，讓保全人員控管各棟大樓的出入狀況，且所有造訪情形都必須由大樓負責人預先登記和記錄。

在整個課程中，您將建立應用程式並執行自動化功能，以便 Bellows College 的行政和保全人員能夠管理及控管校內大樓的出入狀況。

在此實驗室中，您將建立 Power Apps 模型導向驅動程式，可讓後端辦公室校園教職員管理整個校園中的造訪情形記錄。

# <a name="high-level-lab-steps"></a>高階實驗室步驟

在建立模型導向應用程式的過程中，您將完成下列工作：

-   建立名稱為 [校園管理] 的新模型導向應用程式

-   編輯應用程式導覽以參考必要的資料表

-   自訂應用程式必要資料表的表單和檢視

我們將使用下列元件：

-   **檢視**：「檢視」可讓使用者在表單資料表中顯示現有資料。

-   **表單**：使用者可於此處建立/更新資料表中的新資料列。

兩者均會整合至模型導向應用程式，以提供更優質的使用者體驗。

## <a name="prerequisites"></a>必要條件

-   完成 **單元 0 實驗室 0：驗證實驗室環境**

-   完成 **課程模組 2 實驗室 1 - 資料模型化**

## <a name="things-to-consider-before-you-begin"></a>開始前要考慮的事項

-   我們應該進行哪些變更以提升使用者體驗？

-   根據我們已建立的資料模型，應該在模型導向應用程式中包含哪些項目？

-   在模型導向應用程式的網站地圖上，我們可以完成哪些自訂項目？

# <a name="exercise-1-customize-views-and-forms"></a>練習 \#1：自訂檢視和表單

**目標：** 在此練習中，您將針對要在模型導向應用程式中使用的自訂建立資料表自訂檢視和表單。

## <a name="task-1-edit-visit-form"></a>工作 \#1：編輯「造訪情形」表單

1.  若還未登入，請先登入 <https://make.powerapps.com> 。

2.  如果尚未選取，請在右上方選取您的 [[我的縮寫名] 練習] 環境。

3.  使用左側導覽，展開 **Dataverse**，選取 [資料表]，然後按一下以開啟您的 [造訪] 資料表。

4.  選取 [表單] 索引標籤，然後按一下以開啟具有 [主要] 表單類型的「資訊」表單。

>   **重要事項：** *因為所有表單預設都會命名為「資訊」。務必確認您選取的表單具有 [主要]*  *表單類型而不是其他類型的表單。*

>   依預設，表單具有兩個欄位：[名稱] (主要欄位) 和 [擁有者]。

5.  在畫面右側的 [屬性] 底下，選取 [ 顯示名稱] 欄位，然後將其變更為 [主要資訊]。

6.  使用畫面頂端的功能表，選取 [+ 表單欄位]，然後將資料行拖曳至表單或按一下資料行名稱，即可在 [擁有者] 欄位下方新增下列欄位：

    1.  **訪客**

    2.  **排定的開始時間**

    3.  **排定的結束時間**

    4.  **實際開始**

    5.  **實際結束**

7.  拖曳 **[代碼]** 資料行，然後將其拖放至表單標頭。

>   標頭為表單的右上方區域。 您可能需要最小化畫面右側的 [屬性] 面板，才能看到表單上的欄位。

8.  仍選取 [代碼] 欄位時，在畫面右側 [屬性] 面板中勾選 [唯讀] 的核取方塊。

9.  選取 **[擁有者]** 欄位。 在 [屬性] 面板中，將 **[欄位標籤]** 變更為 **[負責人]**

10.  按一下右上方的 **[儲存]** ，然後等待儲存完成。

11.  按一下右上方的 **[發佈]** ，然後等待發佈完成。

12.  若編輯檢視在新的索引標籤中開啟，請關閉該索引標籤。否則，按一下畫面左上方的 [上一步]。 您現在應已返回 [Visit entity Forms] (瀏覽實體表單) 索引標籤。

## <a name="task-2-edit-active-visits-view"></a>工作 \#2：編輯 [現行造訪情形] 檢視

在此工作中，我們將修改預設的 [現行造訪情形] 檢視，並為今天的造訪情形建立新的檢視。

1.  選取 [檢視] 索引標籤，然後按一下以開啟 [現行造訪情形] 檢視。

2.  按一下或拖放下列欄位，將欄位新增至檢視：

    1.  **程式碼**

    2.  **訪客**

    3.  **排定的開始時間**

    4.  **排定的結束時間**

3.  按一下 **[建立時間]** 資料行，然後選取 **[移除]** 。 即可立即從檢視中移除 **[建立時間]** 欄位。

4.  調整個別資料行的寬度以符合資料大小。

5.  按一下 **[儲存]** ，然後等待變更儲存完畢。

6.  按一下 **[發佈]** ，然後等待發佈完成。

## <a name="task-3-create-new-view-for-todays-visits"></a>工作 \#3：為今天的造訪情形建立新的檢視

接下來，我們將複製檢視為今天的造訪情形建立新的檢視。

1.  在 [屬性] 面板中按一下 [編輯篩選條件] 連結。

2.  按一下 **[新增]** ，然後選取 **[新增資料列]** 。

3.  選取 **[預定開始時間]** 做為欄位，然後選取 **[今天]** 做為下拉式清單中的條件。

4.  按一下 [狀態] 資料列上的 **...** ，然後按一下 [刪除] 以刪除該篩選條件。

5.  按下 **[確定]** 以儲存條件。 檢視現謝謝你的圖在已篩選為僅顯示 [預定開始時間] 的日期為今天的記錄。

6.  將 **[實際開始時間]** 和 **[實際結束時間]** 欄位新增至檢視。

> **注意：** 由於我們不再依據檢視狀態進行篩選，因此將會取得今天的所有造訪情形，包括已完成的項目。 這兩個欄位將有助於區分已完成的造訪情形和進行中的造訪情形。

7.  按一下 [儲存] 按鈕旁邊的 **[下拉式箭頭]** (請小心不要按下按鈕本身)，然後選取 [另存新檔]。

8.  將名稱變更為 **[今天的造訪情形]** ，然後按下 **[儲存]** 。

9.  按一下 **[發佈]** ，然後等待發佈完成。

# <a name="exercise-2-create-model-driven-application"></a>練習 \#2：建立模型導向應用程式

**目標：** 在此練習中，您將建立模型導向應用程式、自訂網站地圖，以及測試應用程式。

>   為了簡單和節省時間起見，我們不會在此實驗室中處理一些 [造訪] 資料行。 

## <a name="task-1-create-application"></a>工作 \#1：建立應用程式

1.  登入 <https://make.powerapps.com> (若您還未登入)。

2.  如果尚未選取，請在右上方選取您的 [[我的縮寫名] 練習] 環境。

3.  建立模型導向應用程式：

    1.  在 [首頁] 畫面的 [起始] 區段中，選取 [空白應用程式]。

    2.  在 [根據 Dataverse 的空白應用程式] 底下，選取 [建立]。

    3.  選取 [新式應用程式設計工具] 體驗。
    
    4.  選取 [建立]。
    
    5.  針對 [名稱] 輸入 **Bellows 校園管理**，然後選取 [建立]。

4.  載入新的模型驅動應用程式之後，選取 [+ 新增頁面] 按鈕。

5.  在 [新增頁面] 畫面上，選擇 [資料表型檢視和表單]，然後選取 [下一步] 按鈕。

6.  新增下列資料表：

    1.  瀏覽

    2.  Contact

7.  選取 2 個資料表之後，選取 [新增]。

8.  使用畫面左側的導覽圖示，選取 [導覽]。

9.  在瀏覽窗格中，選取下方的 [群組 1] 文字，其中顯示導覽列。

10.  在畫面右側的 [顯示選項] 區段中，將 [標題] 變更為 [安全性]。

## <a name="task-1-edit-your-app"></a>工作 \#1：編輯您的應用程式
既然我們已將所有必要的元件新增至模型驅動應用程式，我們現在會組織項目。

1.  在瀏覽窗格的安全性群組底下，選取 [SubArea1]。

2.  選取 [省略符號]，並在顯示的功能表中選取 [SubArea1]。

3.  使用畫面左側的導覽，選取 [頁面]。

4.  找出並展開 [頁面] 窗格上的 [造訪] 資料表。

5.  選取 [造訪表單]。

6.  在畫面右側選取 [管理表單]。

7.  選取 [主要資訊] 表單，然後按一下 [儲存]。

8.  在左側的 [造訪] 資料表底下，選取 [造訪檢視]。

9.  在畫面右側選取 [管理檢視]。

10. 選取 [今天的造訪情形] 和 [現行造訪情形] 表單，然後選取 [儲存]。

11. 在畫面左側的應用程式頂端，選取 [儲存]。

12. [儲存] 完成後，請選取 [發佈] 按鈕以發佈變更。

## <a name="task-2-test-application"></a>工作 \#2：測試應用程式

1.  啟動應用程式

    1.  選取 [播放] 以在新視窗中開啟您的應用程式。

2.  建立新的「連絡人」

    1.  應用程式應開啟至 [我的現行連絡人] 檢視

    2.  從頂端功能表中按一下 **[新增]** 。

    3.  在 [名字] 中輸入 `John`，[姓氏] 中輸入 `Doe`。

    4.  提供您的個人電子郵件做為 **[電子郵件]** 。 此項目將用於之後的實驗室中。

    5.  按一下 [儲存並關閉]。

    6.  您現在應該會在 **[現行連絡人]** 檢視中看到已建立的連絡人。

4.  建立新的「造訪情形」

    1.  從網站地圖中選取 **[造訪情形]** 。

    2.  按一下 **[新增]** 。

    3.  依照下列內容輸入欄位

        1.  **名稱**：`New test visit`

        2.  **訪客**：選取 [John Doe]

        3.  **預定開始時間**：選取明天的日期和下午 2:00 做為開始時間

        4.  **預定結束時間**：選取明天的日期和下午 3:30 做為結束時間

    4.  按一下 [儲存並關閉]。 這會建立 Visit，而且應會顯示在 [現行瀏覽] 檢視中

    5.  將檢視變更為 **[今天的造訪情形]** 。 您應該不會再於此檢視中看到新的造訪情形，因為其預定時間為明天。

5.  您可以新增其他測試記錄。

    您正在執行的應用程式看起來應近似於下圖：

![](media/3-model-driven-app.png)

# <a name="challenges"></a>挑戰

-   選取 [連絡人] 的特定檢視和表單
